<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Contacts | SoloQuest</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

</head>
<body>

<div class="container">
    <h1>ðŸš¨ Emergency Contacts</h1>

    <!-- Back to Dashboard -->
    <a href="{{ url_for('dashboard') }}">
        <button type="button" class="back-btn">â¬… Back to Dashboard</button>
    </a>

    <hr>

    <!-- Add New Contact -->
    <h3>Add New Contact</h3>
    <form method="POST" action="{{ url_for('add_contact') }}">
        <input type="text" name="name" placeholder="Name" required>
        <input type="text" name="phone" placeholder="Phone Number" required>
        <button type="submit">Add Contact</button>
    </form>

    <hr>

    <!-- Emergency Contacts List -->
    <h3>Saved Contacts</h3>
    {% if contacts %}
        <ul class="contact-list">
        {% for c in contacts %}
            <li>
                {{ c['name'] }} - {{ c['phone'] }}

                <!-- Delete button -->
                <form method="POST" action="{{ url_for('delete_contact', contact_id=c['id']) }}" style="display:inline;">
                    <button type="submit" class="delete-btn">Delete</button>
                </form>
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No emergency contacts saved.</p>
    {% endif %}

    <hr>

    <!-- Emergency Alert Button -->
    <button type="button" class="alert-btn" onclick="sendEmergencyAlert()">
        ðŸš¨ Send Emergency Alert
    </button>

</div>

<script>
function sendEmergencyAlert() {
    {% if contacts %}
        let message = "Emergency! Contact me immediately:\n\n";
        {% for c in contacts %}
            message += "{{ c['name'] }} - {{ c['phone'] }}\n";
        {% endfor %}
        alert(message); // For demo purposes
    {% else %}
        alert("No emergency contacts to alert!");
    {% endif %}
}
</script>

</body>
</html>





